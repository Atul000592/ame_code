<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<meta name="_csrf" th:content="${_csrf.token}" />
<meta name="_csrf_header" th:content="${_csrf.headerName}" />

<head>
	<meta charset="ISO-8859-1">


	<title>AME DashBoard User Management</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">


	<div th:replace="~{user-management-template/force-admin-user/mg-header-menu::sidebar-wrapper-menu-header}"></div>

	<!--Create new Role js file-->
	<script src="js/local/createNewRoleCAPF.js"></script>

	<!--file size Validation js-->
	<script src="js/local/file-size-validation.js"></script>

	<!--Create new Role Css File-->
	<link rel="stylesheet" href="css/local/createNewRole.css" />



	<!--file size Validation js-->
	<script src="js/local/assign-new-role-capf-admin.js"></script>


	<!--data Table Css files-->

	<link rel="stylesheet" href="css/local/dataTableCss/dataTables.bootstrap5.min.css" />


	<!--data Table js Files-->

	<script type="text/javascript" src="js/local/dataTableJs/jquery.dataTables.min.js"></script>
	<script src="js/local/dataTableJs/dataTables.bootstrap5.min.js"></script>



	<!-- Include Select2 CSS -->
	<link href="css/local/select2@4.1.0-rc.0/dist/select2.min.css" rel="stylesheet" />

	<!-- Include Select2 JS -->
	<script src="js/local/select2@4.1.0-rc.0/dist/select2.min.js"></script>
	<script>

		$(document).ready(function () {
			$('#tab-personal').DataTable();
		});
	</script>
</head>


<body>



	<div class="d-flex" id="wrapper">

		<div th:replace="~{user-management-template/force-admin-user/mg-left-menu::sidebar-wrapper-menu-cpf}"></div>
		<!-- /#sidebar-wrapper -->

		<!-- Page Content -->
		<div id="page-content-wrapper">

			<div th:replace="~{user-management-template/force-admin-user/nav-bar-mg::sidebar-wrapper-menu-nav-cpf}">
			</div>


			<div class="container-fluid mt-3">

				<!-- Content Row -->

				<div class="wisecountnactionbg">

					<div id="b-homedb">

						<!--	<h6 class="table-heade">Assigned Role</h6>-->

						<span style="color: darkred; font-size: 20px;" th:if="${message!=null}"
							th:text="${message}"></span>

						<!--<div class="table-responsive">
                            <table class="table table-striped table-bordered table-hover"
								id="user">

								<thead class="table-light">
									<tr>
										<th>Serial No</th>
										<th>Force</th>
										<th>IRLA No</th>
										<th>Name</th>

										<th>Rank / Designation</th>

										<th>Unit</th>
										<th>Role</th>
									<!--	<th colspan="3" class="text-center">Action</th>-->
						<!--</tr>
								</thead>
								<tr th:each="userRoleDtosList,statcount :${userRoleDtosList}">
									<td th:text="${statcount.count}"></td>
									<td th:text="${userRoleDtosList.forceName}"></td>
									<td th:text="${userRoleDtosList.irlaNo}"></td>

									<td th:text="${userRoleDtosList.name}"></td>

									<td th:text="${userRoleDtosList.rank}"></td>

									<td th:text="${userRoleDtosList.unitName}"></td>
									<td th:text="${userRoleDtosList.role}"></td>
-->

						<!--<td>
											<form action="manage-existing-user-role" method="post">
												<input type="hidden" th:value="${userRoleDtosList.forcePersonalId}"
													name="forcepersonalId">

												<input type="hidden" th:value="${_csrf.token}" name="_csrf">
												<input type="submit" value="modified">

											</form>
										</td>-->
						<!--	<td class="text-center">
										<form action="view-user-role-details" method="post">
											<input type="hidden"
												th:value="${userRoleDtosList.forcePersonalId}"
												name="forcepersonalId"> <input type="hidden"
												th:value="${_csrf.token}" name="_csrf"> <input
												type="submit" value="view " class="btn btn-info btn-sm">

										</form>
									</td>

								</tr>

							</table>

						</div>-->

						<div class="proc-box py-2 px-3 ui-sortable-handle">
							<h5>Assign Role</h5>




							<div class="row my-2 px-4">

								<div class="col-md-4 row align-items-center" style="background-color: lavenderblush;">


									<div class="col-6">
										<span style="font-weight: 600;font-size: 16px;">Force</span>
									</div>
									<div class="col-6"> <select id="forceName_id" class="form-select">
											<option value="0">Select</option>
											<option th:each="forceList: ${forceList}" th:value="${forceList.forceNo}"
												th:text="${forceList.forceCodeName}"></option>
										</select></div>

								</div>

								<div class="col-md-4 row align-items-center" style="background-color: lavender;">
									<div class="col-6">
										<span style="font-weight: 600;font-size: 16px;">Unit</span>
									</div>
									<div class="col-6"> <select id="unit_Id" class="form-select">
										</select></div>

								</div>
								<div class="col-md-4 row align-items-center" style="background-color: lavender;">
									<div class="col-6">
										<span style="font-weight: 600;font-size: 16px;">Attach Unit</span>
									</div>
									<div class="col-6">
										<select id="attch_unit" class="form-select">

										</select>
									</div>

								</div>





							</div>
							<div class="table-responsive">

								<table class="table table-striped table-bordered table-hover" id="tab-personal"
									style="font-size: 13px;">
									<thead class="table-light">
										<tr>


											<th>Force</th>
											<th>IRLA No</th>
											<th>Name</th>
											<th>Designation</th>
											<th>Gender</th>

											<th>Unit</th>
											<th>Action</th>
										</tr>
									</thead>
									<tbody id="myTable">

									</tbody>
								</table>

								<hr>

								<!--  hidden section-->


							</div>

							<form th:action="@{mg-FadorCAPF-dash-board}" method="get">
								<input type="submit" value="Back" class="btn btn-primary btn-sm float-end">
							</form>

						</div>

					</div>


				</div>
			</div>
		</div>
	</div>






	<!-- Menu Toggle Script -->
	<script>
		$("#menu-toggle").click(function (e) {
			e.preventDefault();
			$("#wrapper").toggleClass("toggled");
		});
	</script>


	<script>
		$(document).ready(function () {
			$('#backtotop').click(function () {
				$("html, body").animate({
					scrollTop: 0
				}, 600);
				return false;
			});
		});
	</script>


	<script>
		$('.sub-menu ul').hide();
		$('.sub-sub-menu ul').hide();
		$(".sub-menu a").click(
			function () {
				$(this).parent(".sub-menu").children("ul")
					.slideToggle("100");
				$(this).find(".right").toggleClass(
					"fa-caret-up fa-caret-down");
			});

		$(".sub-sub-menu a").click(
			function () {
				$(this).parent(".sub-sub-menu").children("ul")
					.slideToggle("100");
				$(this).find(".right").toggleClass(
					"fa-caret-up fa-caret-down");
			});
	</script>

	<!--Model-2 for role Assign-->
	<!-- The Modal -->
	<div id="createRoleModeId" class="modal2">

		<!-- Modal content -->
		<div class="modal-content2">
			<span class="close2" onclick="closeModel()">&times;</span>
			<form th:action="@{assign-new-role-cpf-admin-user}" method="post" id="form_id"
				enctype="multipart/form-data">
				<div class="container-2">
					<div class="row">
						<div class="col-md-12">
							<h5>Create New Role</h5>
						</div>
					</div>

					<hr>

					<div class="row mb-2">
						<div class="col-md-4">
							<label>IRLA No :-</label>
						</div>
						<div class="col-md-6">
							<span class="s1" id="irlaNo"></span>
						</div>
					</div>
					<div class="row mb-2">
						<div class="col-md-4">
							<label> Name :- </label>
						</div>
						<div class="col-md-6">
							<span class="s1" id="name"> </span>
						</div>
					</div>

					<div class="row mb-2">
						<div class="col-md-4">
							<label> Designation :- </label>

						</div>
						<div class="col-md-6">
							<span class="s1" id="rank"> </span>
						</div>
					</div>


					<div class="row mb-2">
						<div class="col-md-4">
							<label> Force Name :- </label>

						</div>
						<div class="col-md-6">
							<span class="s1" id="forceName"></span>
						</div>
					</div>
					<div class="row mb-2">
						<div class="col-md-4">
							<label> Unit :- </label>
						</div>
						<div class="col-md-6">
							<span class="s1" id="unit-name"> </span>
						</div>

					</div>


				</div>

				<div class="container-3">
					<div class="row mb-2">
						<div class="col-md-4">
							<label> Order Number *</label>
						</div>
						<div class="col-md-6">
							<input type="text" name="orderNumbar" class="form-control" required>
						</div>
					</div>
					<div class="row mb-2">
						<div class="col-md-4">
							<label> Order Date *</label>
						</div>
						<div class="col-md-6">

							<input type="date" name="orderDate" max="" class="form-control" onclick="datechange()"
								th:max="${#dates.format(#dates.createNow(),'yyyy-MM-dd')}" required>
						</div>
					</div>


					<div class="row mb-2">
						<div class="col-md-4">
							<label> Department * </label>
						</div>
						<div class="col-md-6">
							<select class="form-select" name="department" id="departmentId"
								onchange="getDesignationList(this)">

							</select>
						</div>
					</div>
					<div class="row mb-2">
						<div class="col-md-4">
							<label> Designation *</label>
						</div>
						<div class="col-md-6">
							<select class="form-select" name="rankDropDown" id="rankDropDown"
								onchange="getForcePersonnelList(this)" required>
								<option value="0">Select</option>
							</select>

						</div>
					</div>

					<div class="row mb-2">
						<div class="col-md-4">
							<label> Order By (Name/Irla No) *</label>
						</div>
						<div class="col-md-6">
							<select class="form-select" name="name_irlaNo" id="orderByDropDown"
								style="text-transform:uppercase" required>
								<option value="">select</option>
							</select>

						</div>
					</div>

					<div class="row mb-2">
						<div class="col-md-4">
							<label> Role Type *</label>
						</div>
						<div class="col-md-6">

							<div class="roleList" id="roleList">

								<select class="roleTypeSelect form-select" id="roleTypeSelect">

								</select>


							</div>
						</div>
					</div>
					<div class="row mb-2">
						<div class="col-md-4">
							<label>Permission To Assign Role*</label>
						</div>
						<div class="col-md-6">
							<div id="myDiv">

							</div>
							<input type="hidden" name="permissionId" class="form-control" id="permissionId">
						</div>
					</div>
					<div class="row mb-2">
						<div class="col-md-4">
							<label>Attach File *</label>
						</div>
						<div class="col-md-6">
							<input type="file" name="file" id="fileInput" onchange="validateFileSize()"
								class="form-control" accept=".pdf,.docx">
						</div>
						<div class="col-md-12">
							<div id="file_error_msg" class="normalFileError"></div>
						</div>
					</div>
					<div class="row mb-2">
						<div class="col-md-4">
							<label>Remark *</label>
						</div>
						<div class="col-md-6">
							<input type="text" class="form-control" name="remark" required>
						</div>
					</div>

					<br>
					<div class="row">
						<div class="col-md-6"></div>

						<div class="col-md-3">
							<input type="hidden" name="forcePersonalIdAssignRole" id="forcePersonalIdAssignRole"> <input
								type="hidden" name="roleId" id="roleIdId"> <input type="hidden" name="permissionRoleId"
								id="permissionRoleId"> <input type="hidden" name="designation" id="designationId">
							<button class="btn btn-primary" onclick="getCheckedCheckboxesFor('roleTypeId')">Assign
							</button>
						</div>
						<div class="col-md-3">
							<button class="btn btn-light" onclick="closeModel()">Cancel</button>
						</div>
					</div>


				</div>
			</form>
		</div>
	</div>










	<!-- Modal -->
	<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
		aria-labelledby="staticBackdropLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="staticBackdropLabel">Alert Message</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div id="modal-body" style="font-size: large;color: darkred;">

				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>



	<script src="vendor/jquery-ui/jquery-ui.js"></script>
	<script>
		$(function () {
			$("#sortable-menu").sortable();
			$("#sortable-menu").disableSelection();

			$("#sortable-cards").sortable();
			$("#sortable-cards").disableSelection();
		});
	</script>


	<script>
		$(function () {
			$("#one-item-row").on("click", function () {
				$(".b-customize").addClass("col-lg-12", 300);
				$(".b-customize").removeClass("col-lg-4", 300);
				$(".b-customize").removeClass("col-lg-6", 300);

			});

			$("#two-item-row").on("click", function () {
				$(".b-customize").addClass("col-lg-6", 300);
				$(".b-customize").removeClass("col-lg-4", 300);
				$(".b-customize").removeClass("col-lg-12", 300);

			});

			$("#three-item-row").on("click", function () {
				$(".b-customize").addClass("col-lg-4", 300);
				$(".b-customize").removeClass("col-lg-6", 300);
				$(".b-customize").removeClass("col-lg-12", 300);

			});

		});


		$(document).ready(function () {
			$('#unit_Id').select2();
		});

		$(document).ready(function () {
			$('#attch_unit').select2();
		});


		function resetSelectUnit() {
			$('#unit_Id').val(null).trigger('change'); // Reset Select2 dropdown
		}

		function resetSelectAttachUnit() {
			$('#attch_unit').val(null).trigger('change'); // Reset Select2 dropdown
		}

		$(document).ready(function () {
			$('#rankDropDown').select2();
		});

		$(document).ready(function () {
			$('#orderByDropDown').select2();
		});


	</script>
	<!-- Include Bootstrap JS and Popper.js -->


</body>

</html>