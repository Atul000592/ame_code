<!DOCTYPE html>
    <html lang="en" xmlns:th="http://www.thymeleaf.org">
<meta name="_csrf" th:content="${_csrf.token}" />
<meta name="_csrf_header" th:content="${_csrf.headerName}" />

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AME</title>

<div th:replace="~{user-management-template/force-admin-user/mg-header-menu::sidebar-wrapper-menu-header}"></div>


    <!--data Table Css files-->

    <link rel="stylesheet" href="css/local/dataTableCss/dataTables.bootstrap5.min.css" />


    <!--data Table js Files-->

    <script type="text/javascript" src="js/local/dataTableJs/jquery.dataTables.min.js"></script>
    <script src="js/local/dataTableJs/dataTables.bootstrap5.min.js"></script>

</head>
<body>
    <div class="d-flex" id="wrapper">

        <!-- Sidebar -->

        <div th:replace="~{user-management-template/force-admin-user/mg-left-menu::sidebar-wrapper-menu-cpf}"></div>

        <!-- /#sidebar-wrapper -->

        <!-- Page Content -->
        <div id="page-content-wrapper">

            <div th:replace="~{user-management-template/force-admin-user/nav-bar-mg::sidebar-wrapper-menu-nav-cpf}">
            </div>

            <div class="container-fluid">

                <!-- Content Row -->
 

                    <div class="col-md-12">
                        <!-- Iterate over the controllingList -->
                        <div th:each="userRole : ${reportingOfficerList}">

                            <div class="col-md-3">
                                <div class="alert alert-primary my-2">
                                    <label class="fw-bold">Unit Name:</label>
                                    <span th:text="${userRole.unitName}"></span>
                                </div>
                            </div>

                            <div class="col-md-3">
                                <div class="alert alert-primary my-2">
                                    <label class="fw-bold">Rank:</label>
                                    <span th:text="${userRole.rank}"></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="alert alert-primary my-2">
                                    <label class="fw-bold">Force Name:</label>
                                    <span th:text="${userRole.forceName}"></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="alert alert-primary my-2">
                                    <label class="fw-bold">IRLA No:</label>
                                    <span id="irla-no" th:text="${userRole.irlaNo}" th:value="${userRole.irlaNo}"></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="alert alert-primary my-2">
                                    <label class="fw-bold">Name:</label>
                                    <span th:text="${userRole.name}"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
               
         
                
                <hr>

                <h4 class="text-center"> Controlling Officer </h4>

                <div class="table-responsive">
                    <table id="example" class="table table-striped table-bordered table-hover">
                        <thead class="table-light">
                            <tr>
                                <th>Serial No</th>
                                <th>Force</th>
                                <th>Unit Name</th>
                                <th>IRLA No</th>
                                <th>Name</th>
                                <th>Rank/Designation</th>

                                <th>Assigned Role</th>

                                <th>Map</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="reportingOfficerList,statcount :${reportingOfficerList}">
                                <td th:text="${statcount.count}"></td>
                                <td th:text="${reportingOfficerList.forceName}"></td>
                                <td th:text="${reportingOfficerList.unitName}"></td>
                                <td th:text="${reportingOfficerList.irlaNo}"></td>
                                <td th:text="${reportingOfficerList.name}"></td>
                                <td th:text="${reportingOfficerList.rank}"></td>
                                <td>
                                    <span th:text="Controlling">

                                    </span>
                                </td>
                                <td>
                                    <form id="myForm" th:action="@{list-of-mapped-forcepersonal-to-reporting-officer}" method="post">
                                       <input type="hidden" name="reportinOfficerId" th:value="${reportingOfficerList.forcePersonalId}">
                                        <input type="submit" value="View List">

                                    </form>


                                </td>



                            </tr>
                        </tbody>


                    </table>
                </div>
                
				</div>
				</div>
			

                <script>


function openPopup() {
        var modal = document.getElementById('myModalControlling');
       // var reportingOfficerId = document.getElementById("reportingOfficerList").value;
        modal.style.display = 'flex'; // Show the modal
    }

    // Function to close the popup
    function closePopup() {
        var modal = document.getElementById('myModalControlling');
        modal.style.display = 'none'; // Hide the modal
    }

   

    // Close the modal when clicking outside of it
    window.onclick = function(event) {
        var modal = document.getElementById('myModalControlling');
        if (event.target == modal) {
            modal.style.display = 'none'; // Hide the modal
        }
    }


                </script>
</body>
</html>