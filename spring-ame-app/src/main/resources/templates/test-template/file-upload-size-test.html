<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset='utf-8'>
	<meta http-equiv='X-UA-Compatible' content='IE=edge'>
	<title>Page Title</title>
	<meta name='viewport' content='width=device-width, initial-scale=1'>
	<!-- <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <script src='main.js'></script>-->
</head>


<style>
	#file_error_msg {
		width: 50%;

		padding: 50px 0;
		font-weight: 500;
		font-size: 18px;
		text-align: center;
		background-color: rgb(209, 209, 209);
		margin-top: 20px;
		display: none
	}
</style>

<body>

	<form>

		<input type="file" id="fileInput" onchange="validateFileSize()" accept=".pdf,.docx">
		<input type="submit" value="upload">
	
	</form>
	<div id="file_error_msg" class="normalFileError">

	</div>




</body>



<script>



	function validateFileSize() {

		var fileInput = document.getElementById('fileInput');
		var file = fileInput.files[0];
		var maxSize = 1048576; // 1 MB
		var x = document.getElementById("file_error_msg");

		var allowedFormats = ['pdf', 'docx'];

		if (file) {
			// Check file format
			var fileName = file.name;
			var fileExtension = fileName.split('.').pop().toLowerCase();
			if (!allowedFormats.includes(fileExtension)) {

				x.style.display = "block";
				x.innerHTML = 'Invalid file format. Please choose a file with one of the following formats: ' + allowedFormats.join(', ');


				fileInput.value = ''; // Clear the file input

				setTimeout(function () {
					x.style.display = 'none';
				}, 7000);
				return;
			}

			// Check file size
			if (file.size > maxSize) {
				x.style.display = "block";
				x.innerHTML='File size exceeds the allowed limit. Please choose a smaller file ' + (maxSize / ((1024 * 1024))+' MB');
				fileInput.value = ''; // Clear the file input
				setTimeout(function () {
					x.style.display = 'none';
				}, 7000);
				return;
			}

			// Both format and size are valid
			alert('File format and size are within the allowed limits.');
		}
	}
</script>



</script>


</html>